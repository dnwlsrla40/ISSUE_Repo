# 동시 작업이 불가한 이유

이는 열혈강의 자바 웹 개발 워크북의 Calculator 예제를 따라하다 발생함
계산기 예제에서 동시에 클라이언트를 켜서 실행 시 하나의 클라이언트의 연결이 끊길 때까지 다른 클라이언트의 요청을 승인하지 않는 이유에 대해 나와있어서 적음

```
public void service() throws Exception {
    ...
    while(true) {
        ...
        socket = serverSocket.accept();
        ...
        processRequest(socket);
        ...
    }
}
```

하나의 클라이언트에서 연결이 들어오면 accept()는 승인하고 해당 클라이언트와의 대화를 위해 소켓을 리턴, 그 후 processRequest()를 호출하는데, 이 메서드는 클라이언트가 연결을 끊을 때까지 리턴하지 않게 되어 있으어 이 후에 들어오는 모든 클라이언트 요청은 대기열에 등록되어 기다리게 됨


# 해결 방안
## 멀티 프로세스(Multi-process)와 멀티 스레드(Multi-thread)

### 멀티 프로세스 방식
멀티 프로세스 방식은 클라이언트가 연결 요청을 하면 서버 프로그램은 자신을 복제하여 클라이언트에 대응하게 하고, 자신은 다른 클라이언트의 요청을 기다림

이 방식은 원본 프로세스의 메모리를 모두 복제하기 때문에 자원 낭비가 심함

### 멀티 스레드 방식
멀티 스레드 방식은 클라이언트 요청을 처리하는 일부 코드만 별도로 분리하여 실행함

이 방식은 전체 메모리를 복제할 필요가 없어 멀티 프로세스 방식보다 메모리 낭비가 적음